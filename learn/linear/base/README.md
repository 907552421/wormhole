some common codes which will be remove to a better place
